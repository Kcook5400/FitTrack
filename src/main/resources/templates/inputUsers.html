<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="style.css">
		<title>Input User Information</title>

		<script type="text/javascript">
			function validateInput() {
				var date = document.inputForm.dayJoined.value;
				var currDate;
				var day;
				var month;
				var year;
				currDate = date.substring(date.indexOf("/") + 1);
				month = date.substring(0, date.indexOf("/"));
				day = currDate.substring(0, currDate.indexOf("/"));
				year = currDate.substring(date.indexOf("/") + 1);
				
				if (date == "" || !date.indexOf("/") == -1 || !currDate.indexOf("/") == -1 
						|| isNaN(month) || isNaN(day) || isNaN(year) || day == "" || month == "" 
						|| year == "" || month > 12 || month < 1 || day > 31 || day < 1 || year < 2021) {
					alert("Invalid date. The format is MM/DD/YYYY!");
					return false;
				}
				
				return true;
			}
</script>

</head>
	<body>
		<form th:object="${newUser}" th:action="@{/updateUser/{id}(id=${newUser.id})}" name = "inputForm" onsubmit = "return validateInput(this);" method='POST'>
			User Name: <input name="userName" size="20" th:field="*{userName}"><br>
			Day Joined: <input name="dayJoined" size="20" th:field="*{dayJoined}"><br>
			Email: <input name="email" size="20" th:field="*{email}"><br>
			<input name="submit" type="submit" value="submit"/>
		</form>
		<a href="index.html">Return to menu</a>
	</body>
</html>